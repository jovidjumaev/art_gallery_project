{% extends 'index.html' %}

{% block content %}
{% if success %}
<div class="success-message">
    <h2>âœ… Sale Recorded Successfully!</h2>
    <p>Invoice Number: {{ message }}</p>
    <div class="success-actions">
        <a href="/artgalleryproject/form/sale-invoice" class="btn-primary">Add Another Sale</a>
        <a href="/artgalleryproject" class="btn-secondary">Go to Home</a>
    </div>
</div>
{% else %}
{{error}}
<form method="POST" action="/artgalleryproject/form/add-invoice" novalidate>
    <!-- Artwork Information -->
    <div class="form-section">
      <h3>Artwork Information</h3>
      <div class="form-grid">
        <div class="form-group">
          <label>Artwork Title *</label>
          <input type="text" name="artworkTitle" maxlength="50" required>
          <small>Maximum 50 characters</small>
        </div>
        <div class="form-group">
          <label>Artist Last Name *</label>
          <input type="text" name="artistLastName" maxlength="15" oninput="this.value = this.value.replace(/[^A-Za-z\s-']/g, '')" required>
          <small>Maximum 15 characters, letters only</small>
        </div>
        <div class="form-group">
          <label>Artist First Name *</label>
          <input type="text" name="artistFirstName" maxlength="15" oninput="this.value = this.value.replace(/[^A-Za-z\s-']/g, '')" required>
          <small>Maximum 15 characters, letters only</small>
        </div>
      </div>
    </div>
  
    <!-- Owner Information -->
    <div class="form-section">
      <h3>Owner Information</h3>
      <p class="small-text">Leave blank if owned by the artist.</p>
      <div class="form-grid">
        <div class="form-group">
          <label>Owner Last Name</label>
          <input type="text" name="ownerLastName" maxlength="15" oninput="this.value = this.value.replace(/[^A-Za-z\s-']/g, '')">
          <small>Maximum 15 characters, letters only</small>
        </div>
        <div class="form-group">
          <label>Owner First Name</label>
          <input type="text" name="ownerFirstName" maxlength="15" oninput="this.value = this.value.replace(/[^A-Za-z\s-']/g, '')">
          <small>Maximum 15 characters, letters only</small>
        </div>
        <div class="form-group">
          <label>Street</label>
          <input type="text" name="ownerStreet" maxlength="30" oninput="this.value = this.value.replace(/[^A-Za-z0-9\s.,-']/g, '')">
          <small>Maximum 30 characters</small>
        </div>
        <div class="form-group">
          <label>City</label>
          <input type="text" name="ownerCity" oninput="this.value = this.value.replace(/[^A-Za-z\s-']/g, '')">
          <small>Letters and spaces only</small>
        </div>
        <div class="form-group">
          <label>State</label>
          <input type="text" name="ownerState" maxlength="2" oninput="this.value = this.value.replace(/[^A-Z]/g, '').toUpperCase()">
          <small>Exactly 2 capital letters (e.g., SC)</small>
        </div>
        <div class="form-group">
          <label>ZIP</label>
          <input type="text" name="ownerZip" maxlength="5" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
          <small>Exactly 5 digits</small>
        </div>
        <div class="form-group">
          <label>Area Code</label>
          <input type="text" name="ownerAreaCode" maxlength="3" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
          <small>Exactly 3 digits</small>
        </div>
        <div class="form-group">
          <label>Phone Number</label>
          <input type="text" name="ownerPhoneNumber" maxlength="7" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
          <small>Exactly 7 digits</small>
        </div>
      </div>
    </div>
  
    <!-- Buyer (Collector) Information -->
    <div class="form-section">
      <h3>Buyer Information</h3>
      <p class="small-text">Buyer must already be registered. Otherwise, you will be redirected to register.</p>
      <div class="form-grid">
        <div class="form-group">
          <label>Buyer Last Name *</label>
          <input type="text" name="buyerLastName" maxlength="15" oninput="this.value = this.value.replace(/[^A-Za-z\s-']/g, '')" required>
          <small>Maximum 15 characters, letters only</small>
        </div>
        <div class="form-group">
          <label>Buyer First Name *</label>
          <input type="text" name="buyerFirstName" maxlength="15" oninput="this.value = this.value.replace(/[^A-Za-z\s-']/g, '')" required>
          <small>Maximum 15 characters, letters only</small>
        </div>
        <div class="form-group">
          <label>Street Address *</label>
          <input type="text" name="buyerStreet" maxlength="30" oninput="this.value = this.value.replace(/[^A-Za-z0-9\s.,-']/g, '')" required>
          <small>Maximum 30 characters</small>
        </div>
        <div class="form-group">
          <label>City *</label>
          <input type="text" name="buyerCity" oninput="this.value = this.value.replace(/[^A-Za-z\s-']/g, '')" required>
          <small>Letters and spaces only</small>
        </div>
        <div class="form-group">
          <label>State *</label>
          <input type="text" name="buyerState" maxlength="2" oninput="this.value = this.value.replace(/[^A-Z]/g, '').toUpperCase()" required>
          <small>Exactly 2 capital letters (e.g., SC)</small>
        </div>
        <div class="form-group">
          <label>ZIP *</label>
          <input type="text" name="buyerZip" maxlength="5" oninput="this.value = this.value.replace(/[^0-9]/g, '')" required>
          <small>Exactly 5 digits</small>
        </div>
        <div class="form-group">
          <label>Area Code</label>
          <input type="text" name="buyerAreaCode" maxlength="3" oninput="this.value = this.value.replace(/[^0-9]/g, '')" required>
          <small>Exactly 3 digits</small>
        </div>
        <div class="form-group">
          <label>Phone Number</label>
          <input type="text" name="buyerPhoneNumber" maxlength="7" oninput="this.value = this.value.replace(/[^0-9]/g, '')" required>
          <small>Exactly 7 digits</small>
        </div>
      </div>
    </div>
  
    <!-- Payment Information -->
    <div class="form-section">
      <h3>Payment Information</h3>
      <div class="form-grid">
        <div class="form-group">
          <label>Sale Price (USD) *</label>
          <input type="number" name="salePrice" min="0" step="0.01" required>
          <small>Must be greater than 0</small>
        </div>
        <div class="form-group">
          <label>Sale Tax (USD) *</label>
          <input type="number" name="saleTax" min="0" step="0.01" required>
          <small>Must be greater than or equal to 0</small>
        </div>
        <div class="form-group">
          <label>Amount Remitted to Owner (USD) *</label>
          <input type="number" name="amountRemittedToOwner" min="0" step="0.01" required>
          <small>Must be greater than 0</small>
        </div>
      </div>
    </div>
  
    <!-- Salesperson Information -->
    <div class="form-section">
      <h3>Salesperson Information</h3>
      <div class="form-grid">
        <div class="form-group">
          <label>Salesperson SSN *</label>
          <input type="text" name="salespersonSSN" maxlength="9" oninput="this.value = this.value.replace(/[^0-9]/g, '')" required>
          <small>Exactly 9 digits</small>
        </div>
        <div class="form-group">
          <label>Sale Date *</label>
          <input type="date" name="saleDate" value="{{ today }}" max="{{ today }}" required>
          <small>Cannot select future dates</small>
        </div>
      </div>
    </div>
  
    <!-- Submit Section -->
    <div class="form-actions">
      <a href="/artgalleryproject/form" class="button cancel">Cancel</a>
      <button type="submit" class="button submit">Generate Invoice</button>
    </div>
  
  </form>
{% endif %}
{% endblock %}



 