{% extends 'index.html' %}

{% block content %}
<h1 class="report-title">Collectors Summary Report</h1>

<div class="table-wrapper">
  <div class="table-container">
    <table class="styled-table">
      <thead>
        <tr>
          <th rowspan="2">Collector Name</th>
          <th rowspan="2">Address</th>
          <th rowspan="2">Phone</th>
          <th colspan="4">Preferred Artist</th>
          <th colspan="4">Preferred Type</th>
          <th colspan="4">Preferred Medium</th>
          <th colspan="4">Preferred Style</th>
          <th rowspan="2">Sales Last Year</th>
          <th rowspan="2">Sales YTD</th>
        </tr>
      </thead>
      <tbody>
        {% for collector in collectors %}
        <tr>
          <td>{{ collector.firstname }} {{ collector.lastname }}</td>
          <td>{{ collector.street }}</td>
          <td>{{collector.areacode }}-{{ collector.telephonenumber }}</td>
          <td colspan="4">{{ collector.collectionartistid }}</td>
          <td colspan="4">{{ collector.usualtype or collector.collectiontype }}</td>
          <td colspan="4">{{ collector.usualmedium or collector.collectionmedium }}</td>
          <td colspan="4">{{ collector.usualstyle or collector.collectionstyle }}</td>
          <td>${{ '{:,.2f}'.format(collector.saleslastyear) if collector.saleslastyear else '0.00' }}</td>
          <td>${{ '{:,.2f}'.format(collector.salesyeartodate) if collector.salesyeartodate else '0.00' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}